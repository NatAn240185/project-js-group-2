(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();(()=>{const d={openModalBtn:document.querySelectorAll("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};d.openModalBtn.forEach(a=>{a.addEventListener("click",i)}),d.closeModalBtn.addEventListener("click",i),d.modal.addEventListener("click",r);function r(a){a.target===a.currentTarget&&d.modal.classList.add("is-hidden")}function i(){d.modal.classList.toggle("is-hidden"),document.body.classList.toggle("no-scroll")}})();document.addEventListener("DOMContentLoaded",()=>{const d="https://portfolio-js.b.goit.study/api/requests",r=document.querySelector(".wt-input"),i=document.querySelector(".wt-textarea"),a=document.querySelector(".wt-form"),e=document.querySelector(".wt-button"),t=document.getElementById("email-valid-icon"),l=document.createElement("p");l.textContent="Invalid email, try again",l.style.color="#E74A3B",l.style.display="none",l.classList.add("error-message"),r.insertAdjacentElement("afterend",l);function u(){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r.value)?(r.classList.remove("invalid-mail"),t.style.display="inline",l.style.display="none",!0):(r.classList.add("invalid-mail"),t.style.display="none",l.style.display="block",!1)}r.addEventListener("blur",u),a.addEventListener("submit",function(s){if(s.preventDefault(),!u()){alert("Please enter a valid email address");return}const n={email:r.value,comment:i.value||""};console.log(n),fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>{if(o.ok)return o.json();throw new Error("Something went wrong on the server")}).then(o=>{console.log(o),openModal(),a.reset(),t.style.display="none"}).catch(o=>{console.error("Error:",o),alert("Error: "+o.message+". Please correct your data and try again.")})}),e.addEventListener("click",function(s){s.preventDefault();const n=u(),o=i.value.trim()!=="";n&&o?g():alert("Please fill in all required fields correctly.")});function g(){const s=document.body,n=document.createElement("div");n.classList.add("backdrop");const o=document.createElement("div");o.classList.add("wt-modal");const c=document.createElement("button");c.classList.add("modal-close-btn"),c.setAttribute("type","button");const m=document.createElement("svg");m.classList.add("modal-close-icon"),m.innerHTML='<use href="../img/work_together_icons.svg#icon-wt_modal_x-2"></use>',c.appendChild(m),o.appendChild(c);const f=document.createElement("h2");f.classList.add("wt-modal-title"),f.textContent="Thank you for your interest in cooperation!";const p=document.createElement("p");p.classList.add("wt-modal-text"),p.textContent="The manager will contact you shortly to discuss further details and opportunities for cooperation. Please stay in touch.",o.appendChild(f),o.appendChild(p),n.appendChild(o),s.appendChild(n);function y(){s.removeChild(n)}c.addEventListener("click",y),n.addEventListener("click",function(h){h.target===n&&(s.removeChild(n),y())}),document.addEventListener("keydown",function(h){h.key==="Escape"&&(y(),s.removeChild(n))})}});
//# sourceMappingURL=index.js.map
