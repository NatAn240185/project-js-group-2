{"version":3,"file":"index.js","sources":["../src/js/header-menu.js","../src/js/work-together.js"],"sourcesContent":["(() => {\n    const refs = {\n      openModalBtn: document.querySelectorAll('[data-modal-open]'),\n      closeModalBtn: document.querySelector('[data-modal-close]'),\n      modal: document.querySelector('[data-modal]'),\n    };\n    refs.openModalBtn.forEach((element) => {\n      element.addEventListener('click', toggleModal);\n    });\n    refs.closeModalBtn.addEventListener('click', toggleModal);\n    //* Закривання по кліку на бекдроп\n    refs.modal.addEventListener('click', removeModal);\n    function removeModal(e) {\n      if (e.target === e.currentTarget) {\n        refs.modal.classList.add('is-hidden');\n      }\n    }\n    function toggleModal() {\n      refs.modal.classList.toggle('is-hidden');\n      document.body.classList.toggle('no-scroll');\n    }\n  })();","'use strict'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const BASE_URL = 'https://portfolio-js.b.goit.study/api/requests';\n    const workTogetherInput = document.querySelector('.wt-input');\n    const workTogetherTextArea = document.querySelector('.wt-textarea');\n    const workTogetherForm = document.querySelector('.wt-form');\n    const workTogetherBtn = document.querySelector('.wt-button');\n    const validIcon = document.getElementById('email-valid-icon');\n    \n    const errorMessage = document.createElement('p');\n    errorMessage.textContent = 'Invalid email, try again';\n    errorMessage.style.color = '#E74A3B';\n    errorMessage.style.display = 'none';\n    errorMessage.classList.add('error-message');\n    workTogetherInput.insertAdjacentElement('afterend', errorMessage);\n\n//Функція валідації пошти\n    function validateEmail() {\n        const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n        if (!emailPattern.test(workTogetherInput.value)) {\n            workTogetherInput.classList.add('invalid-mail');\n            validIcon.style.display = 'none';\n            errorMessage.style.display = 'block';\n            return false;}\n        else {\n            workTogetherInput.classList.remove('invalid-mail');\n            validIcon.style.display = 'inline';\n            errorMessage.style.display = 'none';\n            return true;\n        }\n    }\n    \n    workTogetherInput.addEventListener('blur', validateEmail);\n   \n    // Відправка форми\n    workTogetherForm.addEventListener('submit', function (event) {\n        event.preventDefault();\n        if (!validateEmail()) {\n            alert('Please enter a valid email address');\n            return;\n        }\n    // Збір даних з форми\n        const data = {\n            email: workTogetherInput.value,\n            comment: workTogetherTextArea.value || '',\n        };\n       \n        console.log(data);\n\n        // Fetch\n        fetch(BASE_URL, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json', },\n            body: JSON.stringify(data),\n        })\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                } else {throw new Error('Something went wrong on the server');}\n            })\n            .then(data => {\n                console.log(data);\n                openModal();\n                workTogetherForm.reset();\n                validIcon.style.display = 'none';\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                alert('Error: ' + error.message + '. Please correct your data and try again.');\n            });\n    });\n\n//Функія обробки кнопки\n    workTogetherBtn.addEventListener('click', function (event) {\n        event.preventDefault();\n        const isEmailValid = validateEmail();\n        const isCommentFilled = workTogetherTextArea.value.trim() !== '';\n\n    if (isEmailValid && isCommentFilled) {\n        renderModal();\n    } else {alert('Please fill in all required fields correctly.');}\n    });\n   \n\n//Функція відкриття модального вікна\n    function renderModal() {\n        const body = document.body;\n\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('backdrop');\n\n        const modal = document.createElement('div');\n        modal.classList.add('wt-modal');\n\n        const closeModalBtn = document.createElement('button');\n        closeModalBtn.classList.add('modal-close-btn');\n        closeModalBtn.setAttribute('type', 'button');\n\n        const closeIcon = document.createElement('svg');\n        closeIcon.classList.add('modal-close-icon');\n        closeIcon.innerHTML = `<use href=\"../img/work_together_icons.svg#icon-wt_modal_x-2\"></use>`;\n\n        closeModalBtn.appendChild(closeIcon);\n        modal.appendChild(closeModalBtn);\n\n        const title = document.createElement('h2');\n        title.classList.add('wt-modal-title');\n        title.textContent = \"Thank you for your interest in cooperation!\";\n\n        const text = document.createElement('p');\n        text.classList.add('wt-modal-text');\n        text.textContent = \"The manager will contact you shortly to discuss further details and opportunities for cooperation. Please stay in touch.\";\n\n        modal.appendChild(title);\n        modal.appendChild(text);\n        backdrop.appendChild(modal);\n        body.appendChild(backdrop);\n        \n        function closeModal() {body.removeChild(backdrop); }\n\n        closeModalBtn.addEventListener('click', closeModal);\n        //Функція закриття модального вікна після натискання на backdrop або esc\n            \n        backdrop.addEventListener('click', function (event) {\n            if (event.target === backdrop) {\n                body.removeChild(backdrop);\n                closeModal();\n            }\n        });\n\n        document.addEventListener('keydown', function (event) {\n            if (event.key === 'Escape') {\n                closeModal();\n                body.removeChild(backdrop);\n            }\n        });\n    }\n})\n"],"names":["refs","element","toggleModal","removeModal","e","BASE_URL","workTogetherInput","workTogetherTextArea","workTogetherForm","workTogetherBtn","validIcon","errorMessage","validateEmail","event","data","response","error","isEmailValid","isCommentFilled","renderModal","body","backdrop","modal","closeModalBtn","closeIcon","title","text","closeModal"],"mappings":"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"}